# 多项式不定积分数据集生成器文档

## 1. 简介

本项目提供一个强大的 Python 脚本，用于自动生成“问题-答案”形式的多项式不定积分数据集。该工具对于快速构建用于训练和评估机器学习模型（尤其是在符号计算或数学问题解决领域）的数据集非常有用，也可作为教育和算法测试的理想资源。

脚本的核心功能是随机生成具有不同次数和系数的多项式，然后精确计算其不定积分，最后将问题（原始多项式）和答案（不定积分）配对保存。

## 2. 脚本功能

* 随机多项式生成 :
* 可以自定义生成多项式的最高次数。
* 为多项式的每一项（从最高次到常数项）生成一个非零的随机整数系数，从而创建“密集型”多项式（即不含缺项）。
* 生成的多项式会以标准数学表达式的字符串形式呈现（例如 `3x^4 - x^2 + 5` ）。
* 不定积分计算 :
* 脚本会根据标准积分法则 `∫ax^n dx = (a/(n+1))x^(n+1)` 来计算每一项的积分。
* 为了保证计算的精确性，系数的除法运算会使用 Python 的 `fractions` 模块，以分数形式表示结果（例如 `5/3`），避免了浮点数带来的精度问题。
* 最终结果会自动添加积分常数 `+C`。
* 数据集生成与保存 :
* 可以自定义生成的数据样本数量。
* 将生成的问题和答案以键值对 (`"question"`, `"answer"`) 的形式存储。
* 最终的数据集会保存为一个格式化的 JSON 文件，方便阅读和解析。

## 3. 如何运行脚本

1. **保存代码** **: 将下面提供的 Python 代码保存为名为** `generate_integration_dataset.py` 的文件。
2. ****配置参数**:** 在脚本的 `if __name__ == "__main__:"` 部分，你可以根据需要修改以下三个参数：

* `MAX_DEGREE`: 控制生成多项式的最大次数。例如，设置为 `5`，脚本将生成次数在 1 到 5 之间的随机多项式。
* `NUM_SAMPLES`: 要生成的数据样本总数。
* `OUTPUT_FILE`: 输出的 JSON 文件名。

1. **执行脚本** **:** 在终端或命令行中，导航到脚本所在的目录，然后运行以下命令：

```
   python generate_integration_dataset.py

```

1. **查看结果 :** 脚本执行完毕后，会在同一目录下生成一个 JSON 文件（默认为 `polynomial_integration_dataset.json`），其中包含了所有生成的数据。

## 4. 数据集格式说明

输出的 JSON 文件是一个包含单个 JSON 数组（列表）的文本文件。数组中的每个元素都是一个独立的 JSON 对象，该对象通过 `question` 和 `answer` 键封装了一个问答对。

**每个 JSON 对象包含两个键：**

* `"question"`: 字符串类型，表示原始的随机多项式。
* `"answer"`: 字符串类型，表示该多项式对应的不定积分。

### 示例:

```
[
    {
        "question": "9x^4 - 5x^3 - 2x^2 + 8",
        "answer": "9/5x^5 - 5/4x^4 - 2/3x^3 + 8x + C"
    },
    {
        "question": "-x^3 + 7x",
        "answer": "-1/4x^4 + 7/2x^2 + C"
    },
    {
        "question": "10x^2 - 9",
        "answer": "10/3x^3 - 9x + C"
    }
]

```

## 5. 实现细节

* **多项式表示** **:** 在内部，一个多项式被表示为一个字典，其中键（key）是指数（power），值（value）是该项的系数（coefficient）。例如，多项式 `4x^2 - 3` 被表示为 `{2: 4, 0: -3}`。这种结构便于进行数学运算。
* **格式化输出 :** 脚本包含一个格式化函数，该函数将内部的字典表示转换为人类可读的字符串。它会处理正负号、系数为 1 的情况（例如 `1x^2` 显示为 `x^2`）、`x^1`（显示为 `x`）以及常数项等细节。
